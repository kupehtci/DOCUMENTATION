
#### GROUPING ALGORITHM 
#UNITY #CSHARP #LISTS

In this algorithm we compare given a List / array of gameobjects, each one with their position, the distance between each of them and make groups of X dynamic capacity depending on their proximity. 


Code generated by chatgpt: 

```CSHARP 
using UnityEngine;
using System.Collections.Generic;

public class ObjectGrouper : MonoBehaviour
{
    public float groupingDistanceThreshold = 2f; // Adjust this threshold as needed
    public List<List<GameObject>> groupedObjects = new List<List<GameObject>>();

    public void GroupObjects(GameObject[] objectsToGroup)
    {
        // Clear previous grouping
        groupedObjects.Clear();

        // Iterate through each pair of objects
        for (int i = 0; i < objectsToGroup.Length - 1; i++)
        {
            for (int j = i + 1; j < objectsToGroup.Length; j++)
            {
                GameObject objA = objectsToGroup[i];
                GameObject objB = objectsToGroup[j];

                // Calculate the distance between the two objects
                float distance = Vector3.Distance(objA.transform.position, objB.transform.position);

                // Check if the distance is within the threshold
                if (distance <= groupingDistanceThreshold)
                {
                    // Check if either object is already part of a group
                    bool objAInGroup = IsObjectInGroup(objA);
                    bool objBInGroup = IsObjectInGroup(objB);

                    if (!objAInGroup && !objBInGroup)
                    {
                        // Both objects are not in any group, create a new group
                        List<GameObject> newGroup = new List<GameObject> { objA, objB };
                        groupedObjects.Add(newGroup);
                    }
                    else if (objAInGroup && !objBInGroup)
                    {
                        // Add objB to the group containing objA
                        AddObjectToGroup(objA, objB);
                    }
                    else if (!objAInGroup && objBInGroup)
                    {
                        // Add objA to the group containing objB
                        AddObjectToGroup(objB, objA);
                    }
                    else
                    {
                        // Both objects are in different groups, merge the groups
                        MergeGroups(objA, objB);
                    }
                }
            }
        }
    }

    private bool IsObjectInGroup(GameObject obj)
    {
        foreach (var group in groupedObjects)
        {
            if (group.Contains(obj))
            {
                return true;
            }
        }
        return false;
    }

    private void AddObjectToGroup(GameObject targetObject, GameObject groupObject)
    {
        foreach (var group in groupedObjects)
        {
            if (group.Contains(groupObject))
            {
                group.Add(targetObject);
                return;
            }
        }
    }

    private void MergeGroups(GameObject objA, GameObject objB)
    {
        List<GameObject> groupA = null;
        List<GameObject> groupB = null;

        // Find the groups containing objA and objB
        foreach (var group in groupedObjects)
        {
            if (group.Contains(objA))
            {
                groupA = group;
            }
            if (group.Contains(objB))
            {
                groupB = group;
            }
        }

        // Merge the groups
        groupA.AddRange(groupB);
        groupedObjects.Remove(groupB);
    }
}

```

This script should be inheritable from scriptable object to be called within the editor functionallyty and not only in game for being able to batching elements using this code. 
[[UNITY - ScriptableObject]]. 